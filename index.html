<!DOCTYPE html>
<html lang="ko" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RASSI FA Pro: Infographic Edition</title>
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Noto Sans KR', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        dark: {
                            bg: '#0B0E14',       
                            panel: '#151A25',
                            border: '#2A3441',
                        },
                        brand: {
                            blue: '#3B82F6',
                            cyan: '#06B6D4',
                            purple: '#8B5CF6',
                            up: '#F87171',       
                            down: '#60A5FA',     
                            tp_orange: '#F97316' 
                        }
                    },
                    boxShadow: {
                        'glow-tp': '0 0 15px rgba(249, 115, 22, 0.15)',
                        'glow-cyan': '0 0 15px rgba(6, 182, 212, 0.15)',
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #0B0E14; color: #cbd5e1; }
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #0B0E14; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
        
        .glass-panel {
            background: rgba(21, 26, 37, 0.75);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }

        .sidebar-section-title { font-size: 0.65rem; text-transform: uppercase; letter-spacing: 0.1em; color: #64748b; margin-bottom: 0.5rem; padding-left: 1rem; margin-top: 1.5rem; font-weight: 700; }
        .nav-item { padding: 10px 16px; font-size: 0.9rem; border-left: 3px solid transparent; cursor: pointer; color: #94a3b8; transition: all 0.2s; display: flex; align-items: center; }
        .nav-item:hover { color: white; background: rgba(255,255,255,0.03); }
        .nav-item.active { background: linear-gradient(90deg, rgba(6, 182, 212, 0.1) 0%, transparent 100%); border-left-color: #06B6D4; color: #22D3EE; }
        .nav-item.active-strategy { background: linear-gradient(90deg, rgba(139, 92, 246, 0.1) 0%, transparent 100%); border-left-color: #8B5CF6; color: #A78BFA; }

        .chart-container { position: relative; width: 100%; height: 100%; } 
        .loader { border: 2px solid rgba(255,255,255,0.1); border-top: 2px solid #F97316; border-radius: 50%; width: 20px; height: 20px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .tp-badge { background: rgba(249, 115, 22, 0.15); color: #FB923C; border: 1px solid rgba(249, 115, 22, 0.3); font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; font-weight: bold; }
        .signal-buy { color: #F87171; background: rgba(248, 113, 113, 0.1); padding: 2px 6px; border-radius: 4px; font-weight: bold; font-size: 0.75rem; }
        .signal-hold { color: #FBBF24; background: rgba(251, 191, 36, 0.1); padding: 2px 6px; border-radius: 4px; font-weight: bold; font-size: 0.75rem; }

        /* Report Specific Styles */
        .report-content h1 { font-size: 1.5rem; font-weight: bold; color: white; margin-bottom: 0.5rem; }
        .report-content h2 { font-size: 1.1rem; font-weight: bold; color: #60A5FA; margin-top: 1.5rem; margin-bottom: 0.8rem; border-bottom: 1px solid #1E293B; padding-bottom: 0.3rem; }
        .report-content p { color: #CBD5E1; line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem; }
        .report-content li { color: #CBD5E1; margin-bottom: 0.5rem; font-size: 0.9rem; }
        .report-highlight { background: rgba(6, 182, 212, 0.1); color: #22D3EE; padding: 2px 6px; rounded: 4px; font-weight: 500; }
        .infographic-box { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; padding: 1.5rem; margin: 1.5rem 0; }
    </style>
</head>
<body class="h-screen flex overflow-hidden">

    <!-- Sidebar -->
    <aside class="w-64 bg-dark-panel border-r border-dark-border flex flex-col z-20 shrink-0">
        <div class="p-6">
            <h1 class="text-xl font-bold tracking-tight text-white flex items-center">
                <i class="fas fa-layer-group text-brand-tp_orange mr-2"></i>
                RASSI <span class="text-gray-500 text-sm ml-1 font-light">FA PRO</span>
            </h1>
        </div>

        <nav class="flex-1 overflow-y-auto pb-4">
            <!-- Section 1: Strategy Deck -->
            <div class="sidebar-section-title">Project Strategy</div>
            <div onclick="navigate('overview')" id="nav-overview" class="nav-item">
                <i class="fas fa-chart-pie w-5 text-center mr-3"></i> Overview
            </div>
            <div onclick="navigate('workflow')" id="nav-workflow" class="nav-item">
                <i class="fas fa-stopwatch w-5 text-center mr-3"></i> Productivity AX
            </div>

            <!-- Section 2: FA Workstation -->
            <div class="sidebar-section-title">FA Workstation</div>
            
            <div onclick="navigate('insight')" id="nav-insight" class="nav-item">
                <i class="fas fa-brain w-5 text-center mr-3"></i> AI Insight Engine
            </div>
            <div onclick="navigate('dashboard')" id="nav-dashboard" class="nav-item">
                <i class="fas fa-th-large w-5 text-center mr-3"></i> Market Cockpit
            </div>
            <div onclick="navigate('discovery')" id="nav-discovery" class="nav-item">
                <i class="fas fa-filter w-5 text-center mr-3"></i> Smart Discovery
            </div>
            <div onclick="navigate('terminal')" id="nav-terminal" class="nav-item">
                <i class="fas fa-chart-candlestick w-5 text-center mr-3"></i> Deep Dive
            </div>
            <div onclick="navigate('report')" id="nav-report" class="nav-item">
                <i class="fas fa-file-pen w-5 text-center mr-3"></i> Workspace
            </div>
        </nav>

        <div class="p-4 border-t border-dark-border bg-black/20">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded bg-gradient-to-br from-brand-tp_orange to-red-600 flex items-center justify-center text-xs font-bold text-white">FA</div>
                <div>
                    <div class="text-xs text-white font-bold">Manager Park</div>
                    <div class="text-[10px] text-gray-500">ThinkPool Partner</div>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col bg-dark-bg relative overflow-hidden h-full">
        
        <!-- Header -->
        <header class="h-[60px] border-b border-dark-border flex items-center justify-between px-6 bg-dark-panel/80 backdrop-blur z-10 shrink-0">
            <div id="page-title" class="text-lg font-bold text-white">Dashboard Overview</div>
            
            <div class="flex items-center gap-4">
                <div id="global-ticker" class="hidden md:flex items-center gap-6 text-xs font-mono text-gray-400 mr-4 border-r border-dark-border pr-6">
                    <span class="flex items-center gap-2">KOSPI <span class="text-brand-up font-bold">2,654 â–² 0.8%</span></span>
                    <span class="flex items-center gap-2">KOSDAQ <span class="text-brand-down font-bold">864 â–¼ 0.4%</span></span>
                </div>

                <div class="relative">
                    <i class="fas fa-search absolute left-3 top-2.5 text-gray-500 text-xs"></i>
                    <input type="text" placeholder="ì¢…ëª©, í…Œë§ˆ, ì´ìŠˆ ê²€ìƒ‰..." class="bg-dark-bg border border-dark-border rounded-lg py-1.5 pl-8 pr-4 text-xs text-white focus:border-brand-tp_orange outline-none w-64 transition-all">
                </div>
            </div>
        </header>

        <!-- Content Area -->
        <div id="content-area" class="flex-1 overflow-hidden p-4 relative">
            <!-- Dynamic Content -->
        </div>

        <!-- Floating AI Chat -->
        <button onclick="toggleAIChat()" class="fixed bottom-6 right-6 w-12 h-12 bg-gradient-to-r from-brand-tp_orange to-red-500 rounded-full shadow-glow-tp flex items-center justify-center text-white z-50 hover:scale-110 transition duration-300 group">
            <i class="fas fa-comment-dots text-xl group-hover:animate-pulse"></i>
        </button>

         <!-- AI Chat Panel -->
        <div id="ai-chat-panel" class="fixed bottom-20 right-6 w-80 h-[400px] glass-panel rounded-xl flex flex-col hidden animate__animated animate__fadeInUp z-50">
            <div class="p-3 border-b border-white/10 bg-white/5 rounded-t-xl flex justify-between">
                <span class="text-sm font-bold text-white flex items-center"><i class="fas fa-robot text-brand-tp_orange mr-2"></i> Rassi Assistant</span>
                <button onclick="toggleAIChat()" class="text-gray-400 hover:text-white"><i class="fas fa-times"></i></button>
            </div>
            <div id="chat-messages" class="flex-1 p-3 overflow-y-auto space-y-3 text-sm">
                <div class="flex items-start">
                    <div class="bg-brand-tp_orange/20 p-1.5 rounded mr-2"><i class="fas fa-robot text-brand-tp_orange text-xs"></i></div>
                    <div class="bg-white/5 p-2 rounded text-gray-300 text-xs">ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?</div>
                </div>
            </div>
            <div class="p-3 border-t border-white/10 relative">
                <input id="chat-input" type="text" class="w-full bg-black/40 border border-white/10 rounded py-2 pl-3 pr-8 text-xs text-white" placeholder="AIì—ê²Œ ì§ˆë¬¸í•˜ê¸°...">
                <button onclick="sendChatMessage()" class="absolute right-4 top-4 text-brand-tp_orange text-xs"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>

    </main>

    <script>
        const contentArea = document.getElementById('content-area');
        const pageTitle = document.getElementById('page-title');
        const globalTicker = document.getElementById('global-ticker');
        const navItems = document.querySelectorAll('.nav-item');

        const data = {
            marketPrices: Array.from({length: 30}, (_, i) => 1000 + Math.random() * 200 - 100 + (i * 10)),
            aiSignals: [null, null, null, 1050, null, null, 1120, null, null, null, 980, null, null, 1200, null, null, null, null, null, null, null, null, 1300, null, null, null, 1250, null, null, null]
        };

        // Router
        function navigate(view) {
            navItems.forEach(n => {
                n.classList.remove('active', 'active-strategy');
                n.style.color = '#94a3b8';
            });
            
            const activeNav = document.getElementById(`nav-${view}`);
            const isStrategy = ['overview', 'workflow'].includes(view);
            
            if(activeNav) {
                if(isStrategy) {
                    activeNav.classList.add('active-strategy');
                    globalTicker.classList.add('hidden');
                } else {
                    activeNav.classList.add('active');
                    globalTicker.classList.remove('hidden');
                }
            }

            contentArea.classList.add('opacity-0');
            
            setTimeout(() => {
                contentArea.innerHTML = '';
                
                switch(view) {
                    case 'overview': renderOverview(); pageTitle.innerText = "Project Strategy"; break;
                    case 'workflow': renderWorkflow(); pageTitle.innerText = "Productivity Innovation"; break;
                    
                    case 'insight': renderInsight(); pageTitle.innerText = "AI Insight Engine"; break;
                    case 'dashboard': renderDashboard(); pageTitle.innerText = "Market Cockpit"; break;
                    case 'discovery': renderDiscovery(); pageTitle.innerText = "Smart Stock Discovery"; break;
                    case 'terminal': renderTerminal(); pageTitle.innerText = "Deep Dive Terminal"; break;
                    case 'report': renderReport(); pageTitle.innerText = "Intelligent Workspace"; break;
                }
                
                contentArea.classList.remove('opacity-0');
                contentArea.classList.add('animate__animated', 'animate__fadeIn');
                
                setTimeout(() => {
                    if(view === 'workflow') initProdChart();
                    if(view === 'insight') initInsightChart();
                    if(view === 'dashboard') initDashChart();
                    if(view === 'terminal') initProCharts();
                }, 50);
            }, 100);
        }

        // ============================
        // VIEWS
        // ============================
        
        function renderOverview() {
             contentArea.innerHTML = `
                <div class="max-w-5xl mx-auto mt-4 overflow-y-auto h-full pr-2">
                    <div class="glass-panel p-8 rounded-xl border-l-4 border-l-brand-tp_orange bg-gradient-to-br from-brand-tp_orange/5 to-transparent mb-6">
                        <h2 class="text-2xl font-bold text-white mb-2">ì”½í¬í’€ AI ì—”ì§„ì˜ FA ìµœì í™” ì „ëµ</h2>
                        <p class="text-gray-400">
                            ê²€ì¦ëœ <strong>ì”½í¬í’€(ThinkPool)</strong>ì˜ <span class="text-brand-tp_orange">ë¼ì”¨(RASSI) ì•Œê³ ë¦¬ì¦˜</span>ê³¼ <span class="text-brand-tp_orange">í…Œë§ˆ ë¶„ì„ ì—”ì§„</span>ì„ 
                            ì „ë¬¸ê°€ìš©(FA) ì›Œí¬ìŠ¤í…Œì´ì…˜ì— í†µí•©í•˜ì—¬, ë‹¨ìˆœ ì •ë³´ ì œê³µì„ ë„˜ì–´ì„  <strong>'Actionable Insight'</strong>ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
                        </p>
                    </div>
                     <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="glass-panel p-6 rounded-xl hover:-translate-y-1 transition duration-300">
                            <i class="fas fa-history text-3xl text-brand-tp_orange mb-4"></i>
                            <h3 class="text-gray-400 text-xs font-bold uppercase mb-1">Rassi Signal History</h3>
                            <div class="text-2xl font-bold text-white">Trust <span class="text-brand-tp_orange">Verified</span></div>
                        </div>
                        <div class="glass-panel p-6 rounded-xl hover:-translate-y-1 transition duration-300">
                            <i class="fas fa-bolt text-3xl text-brand-cyan mb-4"></i>
                            <h3 class="text-gray-400 text-xs font-bold uppercase mb-1">Theme Power Catch</h3>
                            <div class="text-2xl font-bold text-white">Real-time <span class="text-brand-cyan">Leading</span></div>
                        </div>
                        <div class="glass-panel p-6 rounded-xl hover:-translate-y-1 transition duration-300">
                            <i class="fas fa-file-signature text-3xl text-brand-purple mb-4"></i>
                            <h3 class="text-gray-400 text-xs font-bold uppercase mb-1">Auto Reporting</h3>
                            <div class="text-2xl font-bold text-white">3h <i class="fas fa-arrow-right text-sm mx-1 text-gray-600"></i> <span class="text-brand-purple">5min</span></div>
                        </div>
                    </div>
                </div>`;
        }
        function renderWorkflow() {
             contentArea.innerHTML = `
                <div class="max-w-5xl mx-auto mt-4 overflow-y-auto h-full pr-2">
                    <div class="glass-panel p-6 rounded-xl">
                        <h2 class="text-xl font-bold text-white mb-4">FA ì—…ë¬´ ìƒì‚°ì„± í˜ì‹  (180ë¶„ â†’ 5ë¶„)</h2>
                        <div class="h-[300px] chart-container"><canvas id="productivityChart"></canvas></div>
                    </div>
                </div>`;
        }
        function renderInsight() {
             contentArea.innerHTML = `
                <div class="max-w-6xl mx-auto space-y-8 h-full flex flex-col justify-center">
                    <div class="glass-panel p-8 rounded-xl border border-white/5 relative">
                        <div class="flex justify-between items-end mb-6">
                            <h2 class="text-2xl font-bold text-white mb-2"><i class="fas fa-brain text-brand-cyan mr-2"></i>AI Insight Engine</h2>
                             <div class="flex bg-black/40 rounded-lg p-1 border border-white/10">
                                <button onclick="toggleAIAnalysis(false)" id="btn-mode-basic" class="px-4 py-2 text-xs font-bold rounded-md text-white bg-white/10 transition">Raw Data</button>
                                <button onclick="toggleAIAnalysis(true)" id="btn-mode-ai" class="ml-1 px-4 py-2 text-xs font-bold rounded-md text-gray-400 hover:text-white transition">AI Insight</button>
                            </div>
                        </div>
                        <div class="h-[400px] bg-black/20 rounded-xl border border-white/5 p-4 relative">
                            <div id="ai-overlay" class="absolute top-6 left-6 z-10 hidden animate__animated animate__fadeIn">
                                <div class="flex items-center gap-2 bg-brand-cyan/20 backdrop-blur-md border border-brand-cyan/50 text-brand-cyan px-3 py-1.5 rounded-full text-xs font-bold shadow-glow-cyan">
                                    <span class="w-2 h-2 rounded-full bg-brand-cyan animate-pulse"></span>
                                    AI Signal Active
                                </div>
                            </div>
                            <div class="chart-container"><canvas id="insightChart"></canvas></div>
                        </div>
                         <div id="ai-description" class="mt-4 p-5 bg-brand-cyan/5 border border-brand-cyan/20 rounded-xl hidden animate__animated animate__fadeInUp">
                            <div class="flex items-start">
                                <i class="fas fa-lightbulb text-brand-cyan text-xl mt-1 mr-4"></i>
                                <div>
                                    <h4 class="font-bold text-brand-cyan mb-1">AI Technical Analysis</h4>
                                    <p class="text-sm text-gray-300 leading-relaxed">
                                        í˜„ì¬ ì£¼ê°€ íë¦„ì—ì„œ <strong class="text-white">ê³¨ë“ í¬ë¡œìŠ¤ íŒ¨í„´</strong>ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. 
                                        ìƒìŠ¹ í™•ë¥ ì´ <span class="text-brand-cyan font-bold">85%</span>ë¡œ ì˜ˆì¸¡ë©ë‹ˆë‹¤.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>`;
        }
        function renderDashboard() {
             contentArea.innerHTML = `
                <div class="grid grid-cols-12 gap-4 h-full min-h-0">
                    <div class="col-span-4 glass-panel rounded-xl flex flex-col min-h-0">
                        <div class="p-3 bg-white/5 border-b border-white/10 flex justify-between items-center shrink-0">
                            <span class="text-sm font-bold text-white"><i class="fas fa-fire text-brand-tp_orange mr-2"></i>Power Theme Catch</span>
                        </div>
                        <div class="flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar">
                            <div class="p-3 bg-white/5 rounded border border-white/5 hover:border-brand-tp_orange/50 cursor-pointer group transition">
                                <div class="flex justify-between items-center mb-2">
                                    <div class="font-bold text-white text-sm group-hover:text-brand-tp_orange">ğŸ”¥ HBM / ë°˜ë„ì²´ ì¥ë¹„</div>
                                    <span class="text-brand-up font-bold text-xs">+4.25%</span>
                                </div>
                                <div class="w-full bg-gray-700 h-1 rounded-full mt-2 overflow-hidden">
                                    <div class="bg-gradient-to-r from-brand-tp_orange to-red-500 h-full w-[85%]"></div>
                                </div>
                            </div>
                             <div class="p-3 bg-white/5 rounded border border-white/5 hover:border-brand-tp_orange/50 cursor-pointer group transition">
                                <div class="flex justify-between items-center mb-2">
                                    <div class="font-bold text-white text-sm group-hover:text-brand-tp_orange">âš¡ ì „ê³ ì²´ ë°°í„°ë¦¬</div>
                                    <span class="text-brand-up font-bold text-xs">+2.10%</span>
                                </div>
                                <div class="w-full bg-gray-700 h-1 rounded-full mt-2 overflow-hidden">
                                    <div class="bg-gradient-to-r from-brand-tp_orange to-red-500 h-full w-[60%]"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                     <div class="col-span-5 glass-panel rounded-xl flex flex-col min-h-0">
                        <div class="p-3 bg-white/5 border-b border-white/10 flex justify-between items-center shrink-0"><span class="text-sm font-bold text-white">Market Pulse</span></div>
                        <div class="flex-1 chart-container"><canvas id="marketPulseChart"></canvas></div>
                    </div>
                     <div class="col-span-3 glass-panel rounded-xl flex flex-col min-h-0">
                        <div class="p-3 bg-white/5 border-b border-white/10 flex justify-between items-center shrink-0"><span class="text-sm font-bold text-white">Rassi Picks</span></div>
                        <div class="flex-1 overflow-y-auto p-2 space-y-1 custom-scrollbar">
                             ${[
                                {n:'SKí•˜ì´ë‹‰ìŠ¤', p:'162,000', r:'+3.2%', t:'up', s:'BUY'},
                                {n:'í˜„ëŒ€ì°¨', p:'245,000', r:'+1.5%', t:'up', s:'BUY'},
                                {n:'ì‚¼ì„±ìƒëª…', p:'82,100', r:'+0.5%', t:'up', s:'HOLD'},
                            ].map(i => `
                                <div class="flex justify-between items-center p-3 bg-white/5 rounded hover:bg-white/10 cursor-pointer border-l-2 ${i.t==='up'?'border-brand-up':'border-brand-down'}">
                                    <div>
                                        <div class="text-sm text-white font-bold">${i.n}</div>
                                        <div class="text-[10px] text-gray-500">Signal: <span class="${i.s==='BUY'?'text-brand-up':(i.s==='SELL'?'text-brand-down':'text-yellow-500')} font-bold">${i.s}</span></div>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-xs text-white font-mono">${i.p}</div>
                                        <div class="text-[10px] ${i.t==='up'?'text-brand-up':'text-brand-down'}">${i.r}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
             `;
        }
        function renderDiscovery() {
            contentArea.innerHTML = `
                <div class="h-full flex flex-col gap-4 min-h-0">
                    <div class="glass-panel p-6 rounded-xl shrink-0 border border-white/5">
                        <h2 class="text-xl font-bold text-white mb-4 flex items-center">
                            <i class="fas fa-filter text-brand-tp_orange mr-2"></i>Smart Stock Discovery
                        </h2>
                        <div class="flex gap-4 items-end">
                            <div class="flex-1 grid grid-cols-4 gap-4">
                                <div class="relative group"><label class="block text-xs text-gray-400 font-bold mb-1 ml-1">ìˆ˜ê¸‰</label><select class="w-full bg-black/40 border border-white/10 rounded-lg p-2.5 text-sm text-white outline-none"><option>ê¸°ê´€ 3ì¼ ì—°ì† ìˆœë§¤ìˆ˜</option></select></div>
                                <div class="relative group"><label class="block text-xs text-gray-400 font-bold mb-1 ml-1">ê¸°ìˆ ì </label><select class="w-full bg-black/40 border border-white/10 rounded-lg p-2.5 text-sm text-white outline-none"><option>ê³¨ë“ í¬ë¡œìŠ¤</option></select></div>
                                <div class="relative group"><label class="block text-xs text-gray-400 font-bold mb-1 ml-1">ì‹œê·¸ë„</label><select class="w-full bg-black/40 border border-white/10 rounded-lg p-2.5 text-sm text-white outline-none"><option>ì˜¤ëŠ˜ 'ë§¤ìˆ˜' ë°œìƒ</option></select></div>
                                <div class="relative group"><label class="block text-xs text-gray-400 font-bold mb-1 ml-1">í€ë”ë©˜í„¸</label><select class="w-full bg-black/40 border border-white/10 rounded-lg p-2.5 text-sm text-white outline-none"><option>ì˜ì—…ì´ìµ YoY +20%</option></select></div>
                            </div>
                            <button class="px-8 py-2.5 bg-brand-tp_orange hover:bg-orange-600 text-white font-bold rounded-lg transition h-[42px] flex items-center shadow-glow-tp">
                                <i class="fas fa-search mr-2"></i> Search
                            </button>
                        </div>
                    </div>
                    <div class="flex-1 glass-panel p-0 rounded-xl overflow-hidden flex flex-col min-h-0 border border-white/5">
                        <div class="p-4 bg-white/5 border-b border-white/5"><span class="text-sm font-bold text-white">ê²€ìƒ‰ ê²°ê³¼ <span class="text-brand-tp_orange">4</span>ê±´</span></div>
                        <div class="overflow-y-auto flex-1 custom-scrollbar">
                            <table class="w-full text-left border-collapse">
                                <thead class="bg-black/40 text-xs text-gray-400 sticky top-0 backdrop-blur-sm z-10"><tr><th class="p-3">ì¢…ëª©ëª…</th><th class="p-3">í˜„ì¬ê°€</th><th class="p-3">ë“±ë½ë¥ </th><th class="p-3">íŠ¹ì´ì‚¬í•­</th><th class="p-3">Action</th></tr></thead>
                                <tbody class="text-sm text-gray-300 divide-y divide-white/5">
                                    <tr class="hover:bg-white/5 group transition"><td class="p-3 font-bold">DBí•˜ì´í…</td><td class="p-3">48,500</td><td class="p-3 text-brand-up">+3.20%</td><td class="p-3 text-xs"><span class="bg-red-500/10 text-red-400 px-2 py-1 rounded">ê¸°ê´€ 5ì¼</span></td><td class="p-3"><button class="text-xs bg-white/10 px-3 py-1 rounded">ë¶„ì„</button></td></tr>
                                    <tr class="hover:bg-white/5 group transition"><td class="p-3 font-bold">ì£¼ì„±ì—”ì§€ë‹ˆì–´ë§</td><td class="p-3">32,100</td><td class="p-3 text-brand-up">+1.85%</td><td class="p-3 text-xs"><span class="bg-red-500/10 text-red-400 px-2 py-1 rounded">ì™¸ì¸/ê¸°ê´€ ì–‘ë§¤ìˆ˜</span></td><td class="p-3"><button class="text-xs bg-white/10 px-3 py-1 rounded">ë¶„ì„</button></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>`;
        }
        function renderTerminal() {
            contentArea.innerHTML = `
                <div class="grid grid-cols-12 gap-4 h-full min-h-0">
                    <div class="col-span-9 flex flex-col gap-4 min-h-0">
                        <div class="glass-panel p-4 rounded-xl flex justify-between items-center bg-gradient-to-r from-gray-900 to-black shrink-0">
                            <div class="flex items-center gap-4">
                                <h2 class="text-2xl font-bold text-white">ì‚¼ì„±ì „ì <span class="text-lg text-gray-500 font-normal">005930</span></h2>
                                <div class="font-mono text-xl text-brand-up font-bold">72,300 â–² 1.5%</div>
                                <span class="tp-badge">ë°˜ë„ì²´ ëŒ€ì¥ì£¼</span>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="generateAIReportDemo('ì‚¼ì„±ì „ì')" class="px-3 py-1 bg-brand-tp_orange hover:bg-orange-600 text-white text-xs font-bold rounded transition">AI Report ìƒì„±</button>
                            </div>
                        </div>
                        <div class="flex-1 glass-panel p-4 rounded-xl flex flex-col relative min-h-0">
                            <div class="absolute top-4 left-4 z-10 flex gap-2">
                                <div class="flex items-center gap-1 bg-black/60 px-2 py-1 rounded text-[10px] border border-white/10">
                                    <div class="w-2 h-2 rounded-full bg-brand-tp_orange"></div> Rassi Buy
                                </div>
                            </div>
                            <div class="flex-[2] border-b border-white/5 pb-2 min-h-0 relative">
                                <div class="chart-container absolute inset-0"><canvas id="proChart"></canvas></div>
                            </div>
                            <div class="flex-[1] pt-2 min-h-0 relative">
                                <div class="text-[10px] text-gray-500 mb-1 font-bold absolute top-2 left-0 z-10">INVESTOR TREND (ìˆ˜ê¸‰)</div>
                                <div class="chart-container absolute inset-0 top-6"><canvas id="supplyChart"></canvas></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-span-3 flex flex-col gap-4 min-h-0">
                         <div class="glass-panel p-5 rounded-xl flex flex-col items-center justify-center relative bg-gradient-to-br from-brand-tp_orange/10 to-transparent border-brand-tp_orange/20 shrink-0">
                            <h3 class="text-brand-tp_orange text-xs font-bold uppercase tracking-widest mb-1">Rassi Performance</h3>
                            <div class="flex justify-between w-full px-4 mt-2">
                                <div class="text-center"><div class="text-[10px] text-gray-400">ì ì¤‘ë¥  (Hit)</div><div class="text-xl font-bold text-white">88%</div></div>
                                <div class="text-center"><div class="text-[10px] text-gray-400">ëˆ„ì ìˆ˜ìµ (Yield)</div><div class="text-xl font-bold text-brand-up">+145%</div></div>
                            </div>
                         </div>
                         <div class="flex-1 glass-panel rounded-xl flex flex-col overflow-hidden min-h-0">
                            <div class="p-3 bg-white/5 border-b border-white/10 text-xs font-bold text-white shrink-0"><i class="fas fa-history mr-1 text-gray-500"></i> Signal History</div>
                            <div class="overflow-y-auto flex-1 p-0 custom-scrollbar">
                                <table class="w-full text-center text-xs">
                                    <thead class="text-gray-500 bg-black/20"><tr><th class="py-2">ì§„ì…ì¼</th><th>ì§„ì…ê°€</th><th>ìˆ˜ìµë¥ </th></tr></thead>
                                    <tbody class="text-gray-300 divide-y divide-white/5">
                                        <tr><td class="py-2">23.10.15</td><td>68,000</td><td class="text-brand-up font-bold">+5.2%</td></tr>
                                        <tr><td class="py-2">23.08.20</td><td>66,500</td><td class="text-brand-up font-bold">+3.1%</td></tr>
                                    </tbody>
                                </table>
                            </div>
                         </div>
                    </div>
                </div>`;
        }

        // *** UPDATED: WORKSPACE WITH INFOGRAPHIC ***
        function renderReport() {
            contentArea.innerHTML = `
                <div class="flex h-full gap-4 min-h-0">
                    <div class="w-1/3 glass-panel rounded-xl flex flex-col p-4 shrink-0 overflow-y-auto custom-scrollbar">
                        <h3 class="font-bold text-white mb-4">ì°¸ì¡° ë°ì´í„° (Reference)</h3>
                         <div class="space-y-4">
                            <div class="p-3 bg-white/5 rounded border border-white/10">
                                <span class="text-xs text-brand-tp_orange font-bold">Rassi Signal Status</span>
                                <div class="text-sm text-white mt-1">í˜„ì¬ <span class="text-brand-up font-bold">ë§¤ìˆ˜ ë³´ìœ  ì¤‘</span> (ìˆ˜ìµë¥  +2.5%)</div>
                            </div>
                            <div class="p-3 bg-white/5 rounded border border-white/10">
                                <span class="text-xs text-brand-cyan font-bold">AI News Summary</span>
                                <p class="text-xs text-gray-300 mt-1 leading-relaxed">ìµœê·¼ HBM ìˆ˜ìœ¨ ê°œì„  ì†Œì‹ê³¼ í•¨ê»˜ ì™¸êµ­ì¸ ëŒ€ëŸ‰ ë§¤ìˆ˜ ìœ ì…. ê²½ìŸì‚¬ ëŒ€ë¹„ ë°¸ë¥˜ì—ì´ì…˜ ë§¤ë ¥ ë¶€ê°.</p>
                            </div>
                        </div>
                    </div>
                    <div class="w-2/3 glass-panel rounded-xl flex flex-col relative min-h-0 overflow-hidden">
                        <div class="p-3 border-b border-white/10 bg-black/20 flex justify-between items-center shrink-0">
                            <span class="font-bold text-white">ë¦¬í¬íŠ¸ ì—ë””í„°</span>
                            <div class="flex gap-2">
                                <button id="btn-edit-mode" onclick="toggleReportMode('edit')" class="hidden text-xs bg-gray-700 px-3 py-1 rounded text-white hover:bg-gray-600">í¸ì§‘ ëª¨ë“œ</button>
                                <button onclick="generateAIReportDemo('ì‚¼ì„±ì „ì')" class="text-xs bg-brand-tp_orange px-3 py-1 rounded text-white font-bold hover:bg-orange-600 flex items-center"><i class="fas fa-magic mr-1"></i> AI ì´ˆì•ˆ ì‘ì„±</button>
                            </div>
                        </div>
                        <div id="report-container" class="flex-1 relative overflow-hidden">
                            <textarea id="report-editor" class="w-full h-full bg-transparent p-6 text-sm text-gray-300 outline-none resize-none leading-relaxed" placeholder="AI ì´ˆì•ˆ ì‘ì„± ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì¸í¬ê·¸ë˜í”½ ë¦¬í¬íŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤."></textarea>
                            <div id="report-result" class="hidden w-full h-full overflow-y-auto p-8 bg-black/20 custom-scrollbar">
                                <!-- Dynamic Content Goes Here -->
                            </div>
                        </div>
                    </div>
                </div>`;
        }

        // ============================
        // LOGIC & CHARTS
        // ============================

        function initProdChart() {
            const ctx = document.getElementById('productivityChart');
            if(!ctx) return;
            new Chart(ctx, { type: 'bar', data: { labels: ['ì‹œì¥ì¡°ì‚¬', 'ì´ˆì•ˆì‘ì„±', 'í¸ì§‘/ê²€ìˆ˜'], datasets: [{ label: 'ê¸°ì¡´ ë°©ì‹ (ë¶„)', data: [45, 90, 45], backgroundColor: '#EF4444' }, { label: 'Rassi FA Pro (ë¶„)', data: [1, 2, 2], backgroundColor: '#F97316' }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#94a3b8' } } }, scales: { y: { grid: { color: '#1e293b' } }, x: { grid: { display:false } } } } });
        }
        
        let insightChartInstance = null;
        function initInsightChart() {
            const ctx = document.getElementById('insightChart');
            if(!ctx) return;
            const chartData = { labels: Array.from({length: 30}, (_, i) => `Day ${i+1}`), datasets: [{ label: 'ì£¼ê°€ (Price)', data: data.marketPrices, borderColor: '#94a3b8', backgroundColor: 'transparent', borderWidth: 2, tension: 0.4, pointRadius: 0 }] };
            insightChartInstance = new Chart(ctx, { type: 'line', data: chartData, options: { responsive: true, maintainAspectRatio: false, interaction: { mode: 'index', intersect: false }, plugins: { legend: { display: false } }, scales: { x: { grid: { display: false }, ticks: { color: '#64748b' } }, y: { display: false, grid: { color: '#1e293b' } } } } });
        }
        function toggleAIAnalysis(enable) {
            if (!insightChartInstance) return;
            const btnBasic = document.getElementById('btn-mode-basic');
            const btnAi = document.getElementById('btn-mode-ai');
            const desc = document.getElementById('ai-description');
            const overlay = document.getElementById('ai-overlay');
            if (enable) {
                btnBasic.classList.replace('bg-white/10', 'text-gray-400');
                btnAi.classList.add('bg-brand-cyan', 'text-white', 'shadow-glow-cyan');
                if(desc) desc.classList.remove('hidden');
                if(overlay) overlay.classList.remove('hidden');
                insightChartInstance.data.datasets[0].borderColor = '#06B6D4';
                insightChartInstance.data.datasets[0].backgroundColor = 'rgba(6,182,212,0.1)';
                insightChartInstance.data.datasets[0].fill = true;
                if(insightChartInstance.data.datasets.length === 1) { insightChartInstance.data.datasets.push({ label: 'Signal', data: data.aiSignals, backgroundColor: '#F97316', pointStyle: 'circle', pointRadius: 6, showLine: false, type: 'scatter' }); }
            } else {
                btnAi.classList.remove('bg-brand-cyan', 'text-white', 'shadow-glow-cyan');
                btnBasic.classList.replace('text-gray-400', 'bg-white/10');
                if(desc) desc.classList.add('hidden');
                if(overlay) overlay.classList.add('hidden');
                insightChartInstance.data.datasets[0].borderColor = '#94a3b8';
                insightChartInstance.data.datasets[0].fill = false;
                if(insightChartInstance.data.datasets.length > 1) insightChartInstance.data.datasets.pop();
            }
            insightChartInstance.update();
        }

        function initDashChart() {
            const ctx = document.getElementById('marketPulseChart');
            if(!ctx) return;
            const grad = ctx.getContext('2d').createLinearGradient(0,0,0,200);
            grad.addColorStop(0, 'rgba(249, 115, 22, 0.4)');
            grad.addColorStop(1, 'rgba(249, 115, 22, 0)');
            new Chart(ctx, { type: 'line', data: { labels: Array(20).fill(''), datasets: [{ data: Array(20).fill(260).map((v,i)=>v+Math.random()*5), borderColor: '#F97316', backgroundColor: grad, fill: true, tension: 0.4, pointRadius:0 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { display: false }, y: { display: false } } } });
        }

        function initProCharts() {
            const ctx1 = document.getElementById('proChart');
            const ctx2 = document.getElementById('supplyChart');
            if(ctx1) new Chart(ctx1, { type: 'bar', data: { labels: Array(30).fill(''), datasets: [{ type: 'line', label: 'MA', data: Array(30).fill(70000).map((v,i)=>v+i*50), borderColor: '#F59E0B', pointRadius: 0, borderWidth: 1 }, { label: 'Price', data: Array(30).fill(69000).map(v => v + Math.random()*2000), backgroundColor: (c)=> c.raw > 70000 ? '#F87171' : '#60A5FA' }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { display:false }, y: { grid: { color: '#1e293b' } } } } });
            if(ctx2) new Chart(ctx2, { type: 'line', data: { labels: Array(30).fill(''), datasets: [ { label: 'ê¸°ê´€', data: Array(30).fill(0).map((v,i)=> Math.sin(i)*100), borderColor: '#F87171', borderWidth: 1.5, pointRadius: 0 }, { label: 'ì™¸êµ­ì¸', data: Array(30).fill(0).map((v,i)=> Math.cos(i)*100), borderColor: '#F59E0B', borderWidth: 1.5, pointRadius: 0 } ] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#94a3b8', font:{size:10}, boxWidth: 10 } } }, scales: { x: { display:false }, y: { display:false } } } });
        }

        // *** UPDATED: REPORT GENERATION (INFOGRAPHIC) ***
        function toggleReportMode(mode) {
            const editor = document.getElementById('report-editor');
            const result = document.getElementById('report-result');
            const btn = document.getElementById('btn-edit-mode');
            
            if (mode === 'view') {
                editor.classList.add('hidden');
                result.classList.remove('hidden');
                btn.classList.remove('hidden');
            } else {
                editor.classList.remove('hidden');
                result.classList.add('hidden');
                btn.classList.add('hidden');
            }
        }

        async function generateAIReportDemo(stockName) {
            if(!document.getElementById('report-editor')) {
                navigate('report');
                await new Promise(r => setTimeout(r, 300));
            }
            
            const resultDiv = document.getElementById('report-result');
            
            // 1. Inject Rich HTML with Infographic Structure
            resultDiv.innerHTML = `
                <div class="report-content fade-in">
                    <div class="flex justify-between items-start border-b border-gray-700 pb-4 mb-6">
                        <div>
                            <span class="text-brand-tp_orange text-xs font-bold uppercase">AI Premium Report</span>
                            <h1 class="text-2xl mt-1">ì‚¼ì„±ì „ì <span class="text-gray-500 text-lg font-normal">(005930)</span></h1>
                            <p class="text-sm text-gray-400">ì‘ì„±ì¼: 2024.03.21 | íˆ¬ìì˜ê²¬: <strong class="text-brand-up">BUY</strong> | ëª©í‘œê°€: 105,000ì›</p>
                        </div>
                        <div class="text-right">
                            <div class="text-3xl font-bold text-white">92<span class="text-sm text-gray-500">/100</span></div>
                            <div class="text-xs text-brand-cyan">AI Score</div>
                        </div>
                    </div>

                    <div class="infographic-box flex flex-col md:flex-row gap-6">
                        <div class="w-full md:w-1/3 flex flex-col items-center justify-center">
                            <div style="width: 200px; height: 200px;"><canvas id="report-radar-chart"></canvas></div>
                            <p class="text-xs text-gray-500 mt-2 text-center">AI 5ê° ë¶„ì„ ë ˆì´ë”</p>
                        </div>
                        <div class="w-full md:w-2/3 grid grid-cols-2 gap-4">
                            <div class="bg-black/40 p-3 rounded-lg border border-white/5">
                                <div class="text-xs text-gray-400">PER / PBR</div>
                                <div class="text-lg font-bold text-white mt-1">15.2x / 1.45x</div>
                                <div class="w-full bg-gray-700 h-1 mt-2 rounded"><div class="bg-brand-cyan w-[60%] h-full rounded"></div></div>
                            </div>
                            <div class="bg-black/40 p-3 rounded-lg border border-white/5">
                                <div class="text-xs text-gray-400">ROE (ìê¸°ìë³¸ì´ìµë¥ )</div>
                                <div class="text-lg font-bold text-white mt-1">12.5%</div>
                                <div class="w-full bg-gray-700 h-1 mt-2 rounded"><div class="bg-brand-purple w-[75%] h-full rounded"></div></div>
                            </div>
                            <div class="bg-black/40 p-3 rounded-lg border border-white/5">
                                <div class="text-xs text-gray-400">ê¸°ê´€/ì™¸ì¸ ìˆ˜ê¸‰ (1M)</div>
                                <div class="text-lg font-bold text-brand-up mt-1">ì–‘ë§¤ìˆ˜ ì§€ì†</div>
                                <div class="text-xs text-gray-500">ê¸°ê´€ +2,500ì–µ / ì™¸ì¸ +1.2ì¡°</div>
                            </div>
                            <div class="bg-black/40 p-3 rounded-lg border border-white/5">
                                <div class="text-xs text-gray-400">ëª¨ë©˜í…€ ìŠ¤ì½”ì–´</div>
                                <div class="text-lg font-bold text-brand-tp_orange mt-1">High (85)</div>
                                <div class="text-xs text-gray-500">ì‹ ê³ ê°€ ëŒíŒŒ ì„ë°•</div>
                            </div>
                        </div>
                    </div>

                    <h2>1. íˆ¬ì í¬ì¸íŠ¸: AI ë°˜ë„ì²´ ë°¸ë¥˜ì²´ì¸ì˜ í•µì‹¬</h2>
                    <p>
                        ì‚¼ì„±ì „ìëŠ” ìµœê·¼ <span class="report-highlight">HBM3E 12ë‹¨ ì œí’ˆ</span>ì˜ ì—”ë¹„ë””ì•„ ê³µê¸‰ ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§€ë©° ê²½ìŸì‚¬ì™€ì˜ ê²©ì°¨ë¥¼ ì¶•ì†Œí•˜ê³  ìˆìŠµë‹ˆë‹¤. 
                        íŠ¹íˆ ë©”ëª¨ë¦¬ ê°€ê²© ë°˜ë“±ê³¼ í•¨ê»˜ íŒŒìš´ë“œë¦¬ ì‚¬ì—…ë¶€ì˜ ì ì í­ ì¶•ì†Œê°€ ì˜ˆìƒë˜ì–´ ì „ì‚¬ì  ì´ìµ ì²´ë ¥ì´ ê°•í™”ë  ì „ë§ì…ë‹ˆë‹¤.
                        ì˜¨ë””ë°”ì´ìŠ¤ AI ì‹œì¥ ê°œí™”ì— ë”°ë¥¸ ëª¨ë°”ì¼/PC êµì²´ ìˆ˜ìš” ì—­ì‹œ ê¸ì •ì ì…ë‹ˆë‹¤.
                    </p>

                    <h2>2. ê¸°ìˆ ì  ë¶„ì„: ê³¨ë“ í¬ë¡œìŠ¤ì™€ ìˆ˜ê¸‰ì˜ ì¡°í™”</h2>
                    <p>
                        ì£¼ë´‰ìƒ 60ì£¼ ì´ë™í‰ê· ì„ ì„ ê°•í•˜ê²Œ ëŒíŒŒí•˜ë©° ì¥ê¸° ì¶”ì„¸ê°€ ìƒìŠ¹ìœ¼ë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤. 
                        ì¼ê°„ ì°¨íŠ¸ì—ì„œëŠ” ìµœê·¼ ì™¸êµ­ì¸ì˜ 5ì¼ ì—°ì† ëŒ€ëŸ‰ ë§¤ìˆ˜ì„¸ê°€ ìœ ì…ë˜ë©° <span class="report-highlight">ìˆ˜ê¸‰ ì£¼ë„í˜• ìƒìŠ¹</span> íŒ¨í„´ì„ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤.
                        RSI ì§€í‘œëŠ” 65 ìˆ˜ì¤€ìœ¼ë¡œ ì•„ì§ ê³¼ì—´ê¶Œì— ì§„ì…í•˜ì§€ ì•Šì•„ ì¶”ê°€ ìƒìŠ¹ ì—¬ë ¥ì´ ì¶©ë¶„í•˜ë‹¤ê³  íŒë‹¨ë©ë‹ˆë‹¤.
                    </p>

                    <h2>3. ê²°ë¡ : ì§€ê¸ˆì´ ë§¤ìˆ˜ ì ê¸°</h2>
                    <p>
                        í˜„ì¬ ì£¼ê°€ëŠ” PBR 1.4ë°° ìˆ˜ì¤€ìœ¼ë¡œ ì—­ì‚¬ì  ë°´ë“œ ì¤‘ë‹¨ì— ìœ„ì¹˜í•´ ìˆì–´ ë°¸ë¥˜ì—ì´ì…˜ ë§¤ë ¥ì´ ë†’ìŠµë‹ˆë‹¤. 
                        AI ë°˜ë„ì²´ ëª¨ë©˜í…€ê³¼ ì‹¤ì  í„´ì–´ë¼ìš´ë“œê°€ ë§ë¬¼ë¦¬ëŠ” í˜„ ì‹œì ì„ <strong>ë¹„ì¤‘ í™•ëŒ€(Overweight)</strong> ê¸°íšŒë¡œ ì‚¼ì„ ê²ƒì„ ê¶Œê³ í•©ë‹ˆë‹¤.
                    </p>
                </div>
            `;

            toggleReportMode('view');
            setTimeout(renderReportChart, 100); // Wait for DOM render
        }

        function renderReportChart() {
            const ctx = document.getElementById('report-radar-chart');
            if(!ctx) return;
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['ì„±ì¥ì„±', 'ìˆ˜ìµì„±', 'ë°¸ë¥˜ì—ì´ì…˜', 'ìˆ˜ê¸‰', 'ëª¨ë©˜í…€'],
                    datasets: [{
                        label: 'Samsung',
                        data: [90, 80, 70, 85, 90],
                        backgroundColor: 'rgba(249, 115, 22, 0.2)',
                        borderColor: '#F97316',
                        borderWidth: 2,
                        pointBackgroundColor: '#F97316'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(255,255,255,0.1)' },
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            pointLabels: { color: '#94a3b8', font: {size: 10} },
                            ticks: { display: false, backdropColor: 'transparent' }
                        }
                    }
                }
            });
        }

        function toggleAIChat() { document.getElementById('ai-chat-panel').classList.toggle('hidden'); }
        async function sendChatMessage() {
            const i = document.getElementById('chat-input'), m = document.getElementById('chat-messages');
            if(!i.value) return;
            m.innerHTML += `<div class="flex justify-end"><div class="bg-brand-tp_orange/20 p-2 rounded text-brand-tp_orange text-xs">${i.value}</div></div>`;
            m.scrollTop = m.scrollHeight;
            const r = "ë„¤, í˜„ì¬ ì‹œì¥ì€ ë°˜ë„ì²´ ì„¹í„° ì£¼ë„ë¡œ ìƒìŠ¹ íë¦„ì„ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤.";
            await new Promise(res => setTimeout(res, 500));
            m.innerHTML += `<div class="flex items-start"><div class="bg-brand-tp_orange/20 p-1.5 rounded mr-2"><i class="fas fa-robot text-brand-tp_orange text-xs"></i></div><div class="bg-white/5 p-2 rounded text-gray-300 text-xs">${r}</div></div>`;
            m.scrollTop = m.scrollHeight;
            i.value = '';
        }

        document.addEventListener('DOMContentLoaded', () => { navigate('terminal'); });
    </script>
</body>
</html>
